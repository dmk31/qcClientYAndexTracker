# Yandex Tracker CLI Tool

Инструмент командной строки для работы с Yandex Tracker. Позволяет получать списки задач по различным фильтрам и выводить их в удобном табличном формате.

## Установка

1. **Клонируйте репозиторий или скачайте файлы проекта**

2. **Создайте виртуальное окружение:**
   ```powershell
   python -m venv venv
   ```

3. **Активируйте виртуальное окружение:**
   ```powershell
   .\venv\Scripts\activate
   ```

4. **Установите зависимости:**
   ```powershell
   pip install -r requirements.txt
   ```

5. **Настройте переменные окружения:**
   - Скопируйте файл `.env` и заполните его:
     ```
     YANDEX_TRACKER_TOKEN=ваш_токен_здесь
     YANDEX_TRACKER_ORG_ID=ваш_org_id_здесь
     ```

   Получить токен можно в настройках Yandex Tracker: https://tracker.yandex.ru/settings/access

## Использование

### Запуск скрипта

```powershell
python main.py [КОМАНДА] [АРГУМЕНТЫ]
```

### Доступные команды

#### Получить задачи по очереди
```powershell
python main.py queue MYQUEUE
```
Пример:
```powershell
python main.py queue MYQUEUE --limit 20
```

#### Получить задачи по исполнителю
```powershell
python main.py assignee me()
```
Или по конкретному пользователю:
```powershell
python main.py assignee user@example.com
```

#### Получить задачи по автору
```powershell
python main.py author user@example.com
```

#### Получить задачи по произвольному фильтру
```powershell
python main.py filter --queue MYQUEUE --assignee me() --status open
```

### Опции команд

- `--limit N`: Максимальное количество задач для вывода (по умолчанию 50)

## Формат данных

Результаты выводятся в табличном формате с колонками:

- **Ключ**: Уникальный идентификатор задачи (например, MYQUEUE-123)
- **Название**: Краткое описание задачи (обрезается до 50 символов)
- **Статус**: Текущий статус задачи
- **Исполнитель**: Пользователь, назначенный на задачу
- **Автор**: Пользователь, создавший задачу
- **Создано**: Дата создания задачи (только дата, без времени)

## Типовые фильтры

### По очереди
- `MYQUEUE` - задачи из очереди MYQUEUE
- `TEST` - задачи из очереди TEST

### По исполнителю
- `me()` - задачи, назначенные на текущего пользователя
- `user@example.com` - задачи, назначенные на конкретного пользователя

### По автору
- `user@example.com` - задачи, созданные конкретным пользователем

### По статусу
- `open` - открытые задачи
- `closed` - закрытые задачи
- `inProgress` - задачи в работе

### Сложные фильтры
Можно комбинировать фильтры:
```powershell
python main.py filter --queue MYQUEUE --assignee me() --status open
```

## Особенности запуска в PowerShell

- Скрипт автоматически настраивает кодировку UTF-8 для корректного отображения русских символов
- Рекомендуется использовать PowerShell с поддержкой UTF-8
- При проблемах с кодировкой попробуйте запустить с параметром:
  ```powershell
  chcp 65001
  python main.py ...
  ```

## Структура проекта

```
.
├── main.py                 # Точка входа в приложение
├── requirements.txt        # Зависимости Python
├── .env                    # Переменные окружения (скопируйте и заполните)
├── README.md              # Документация
└── src/
    ├── tracker_client.py  # Класс для работы с Yandex Tracker API
    └── cli.py            # Команды CLI интерфейса
```

## Примеры использования

### Получить все задачи из очереди MYQUEUE
```powershell
python main.py queue MYQUEUE
```

### Получить задачи, назначенные на меня
```powershell
python main.py assignee me()
```

### Получить открытые задачи из очереди TEST
```powershell
python main.py filter --queue TEST --status open
```

### Получить задачи, созданные конкретным пользователем
```powershell
python main.py author user@example.com --limit 10
```

## Обработка ошибок

- Если токен или org_id не указаны, скрипт выведет ошибку
- При проблемах с подключением к API выводится сообщение об ошибке
- Если задач не найдено, выводится соответствующее сообщение

## Лицензия

Этот проект предназначен для личного использования. Убедитесь, что у вас есть права на доступ к Yandex Tracker.